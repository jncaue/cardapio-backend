#{extends 'main.html' /}

#{if p}
	#{set title:'Edição de Produto' /}
#{/if}
#{else}
	#{set title:'Cadastro de Produto' /}
#{/else}

<form class="form" action="@{Produtos.salvar}">
	<input type="hidden" name="produto.id" value="${p?.id}" />

	<div class="mb-3">
		<label class="form-label">Nome:</label>
		<input class="form-control" type="text"
			name="produto.nome" value="${p?.nome}" />
	</div>

<div class="mb-3">
		<label class="form-label">Preço:</label>
		<input class="form-control" type="text"
			name="produto.preco" value="${p?.preco}" />
	</div>
	
	<div class="mb-3">
		<label class="form-label">Categoria:</label>
		<select class="form-select" name="produto.categoria.id">
			#{list items:listaDeCategoria, as:'c'}
				<option value="${c.id}" 
					${c.id == p?.categoria?.id ? 'selected' : ''}>
						${c.nome}
				</option>
			#{/list}
		</select>
	</div>

	<input class="btn" type="submit"
		value="${p ? 'Editar':'Cadastrar'}" />
</form>
